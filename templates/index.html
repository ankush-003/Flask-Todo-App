<!-- Template Inheritance -->
{% extends 'base.html' %}
{% block title %}Home{% endblock title %}
{% block body %}    
    <div class="container my-4 p-3 border rounded border-warning">
        <form action="/" method="POST">
            <h2>Add ToDo</h2>
            <div class="mb-3">
              <label for="exampleInputTitle" class="form-label">Task Title</label>
              <input type="text" class="form-control" name="title" id="exampleInputTitle" aria-describedby="emailHelp" required>
            </div>
            <div class="mb-3">
              <label for="exampleInputDesc" class="form-label">Task Description</label>
              <input type="text" class="form-control" name="description" id="exampleInputDesc" required>
            </div>
            <div class="container d-grid col-6">
                <button type="submit" class="btn btn-outline-warning">Add Task</button>
            </div>
          </form>
    </div>
    <div class="container my-2 border rounded border-warning py-2">
        <h2>My ToDo</h2>
        <table class="table table-dark table-hover border" align="center">
            <thead>
                {% if allTasks|length %}
                    {% for task in allTasks %}
                    <tr>
                        <th scope="col">Sl.No</th>
                        <th scope="col">Title</th>
                        <th scope="col">Description</th>
                        <th scope="col">Status</th>
                        <th scope="col">Created</th>
                        <th scope="col" align="center">Action</th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr>
                        <!-- <td scope="row">{{task.sno}}</td> -->
                            <td scope="row">{{loop.index}}</td>
                            <th scope="row">{{task.title}}</th>
                            <td scope="row">{{task.description}}</td>
                            <td scope="row">{{task.status}}</td>
                            <td scope="row">{{task.date_created}}</td>
                            <td scope="row">
                                <a href="/update/{{task.sno}}" class="btn btn-outline-success mx-1 btn-sm">Update</a>
                                <a href="/delete/{{task.sno}}" class="btn btn-outline-danger mx-1 btn-sm">Delete</a>
                            </td>
                        </tr>
                    </tbody>
                    {% endfor %}
                {% else %}
                    <div class="container d-grid alert alert-danger">
                        <p class="display-6 text-danger mx-auto">Add Your first Todo Now!
                            <span class="spinner-grow text-danger" role="status">
                            </span>
                        </p>
                    </div>
                {% endif %}
          </table>
    </div>
{% endblock body %}

